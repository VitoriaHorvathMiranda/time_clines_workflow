configfile: '../config/config.yaml'
include: 'rules/download_available_pools.smk'
include: 'rules/organize_pools.smk'

downloaded_SRAs = [os.path.join(config['out_dir_test'], SRAs + ".fastq.gz") for SRAs in config['SRAs'].keys()]
names_SRAs = [os.path.join(config['out_dir_test'], samples + ".fastq.gz") for samples in config['SRAs'].values()]
out_merged = ['/dados/time_clines/data/seqs/processed/' + prefix + '_merged.fastq.gz' for prefix in fqs_pref]

rule all:
    input:
        expand(os.path.join(config['out_dir_test'], "{samples}.fastq.gz"), samples=config['SRAs'].values()) +
        expand(os.path.join(config['out_dir_test'], "{samples}_filtered.fastq.gz.htmp"),samples=config['SRAs'].values()) +
        out_merged